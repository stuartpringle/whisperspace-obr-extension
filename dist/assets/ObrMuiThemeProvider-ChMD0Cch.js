import{r as c,j as T}from"./vendor_react-XzhcIodj.js";import{O as d}from"./vendor_obr-BLY5dk8V.js";import{x as P,y as R,z as w}from"./vendor_mui-COKFTNWy.js";const S=[{name:"Concealable",description:"May be hidden easily. +1 bonus die to Subterfuge if trying to conceal this weapon."},{name:"Piercing X",description:"Ignores X points of armor protection."},{name:"Point Blank",description:"Ignore penalty die from shooting at Melee or Near range. At Melee range, gain Piercing 2."},{name:"Slow Load",description:"Takes 2 actions to reload."},{name:"Smart-Linked",description:"Requires Ammo (SMART); negate one level of cover (Full -> Partial; Partial negated). Target must be visible and bullets must have a path."},{name:"Stun X",description:"Deals no damage, but forces target to roll Toughness (DC 6 + X) or be Stunned for X rounds."},{name:"Two-Handed",description:"Requires both hands to use."},{name:"Bullet Spray",description:`Requires at least half ammo available. Targets multiple enemies in a cone; depletes remaining ammo; deals reduced damage; does friendly fire. Make a single attack roll and compare it against the DC of each target in the spray zone (including cover bonuses). Each hit deals -1 damage.
`},{name:"Shredding X",description:"If damage exceeds armour’s protection value, reduce armour’s durability by X."},{name:"Area (X)",description:"Deals damage to all targets at X distance or closer."},{name:"Thrown",description:"Weapon may be thrown without suffering a penalty die."},{name:"Grenade",description:`Requires (and uses up) a grenade item, applying the effects and any damage the grenade deals upon a hit. Additionally, deals this weapon’s damage to the target from the impact. A failure to hit by 3 or less still grants the effect of the grenade used, but does not deal this weapon’s damage.
`},{name:"Toxin (X)",description:"Apply 1 level of X toxin upon successful attack."}],X={keywords:S},v=X.keywords??[],M="weapon-keywords";function l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(e){const a=e.trim();if(a.includes("(X)")){const r="^"+l(a).replace("\\(X\\)","\\((.+)\\)")+"$";return{regex:new RegExp(r,"i"),hasParam:!0}}if(a.includes(" X")){const r="^"+l(a).replace(" X","\\s+(.+)")+"$";return{regex:new RegExp(r,"i"),hasParam:!0}}return{regex:new RegExp("^"+l(a)+"$","i"),hasParam:!1}}const E=v.map(e=>{const{regex:a,hasParam:r}=C(e.name);return{name:e.name,description:e.description,regex:a,hasParam:r}});function A(e){return String(e??"").trim()}function W(e){const a=String(e??"").trim();if(!a)return null;for(const r of E){const t=a.match(r.regex);if(!t)continue;const n=r.hasParam?A(t[1]):"",o=r.hasParam?r.description.replace(/\bX\b/g,n||"X"):r.description;return{label:a,description:o,anchor:M}}return null}function I(e){return String(e??"").split(",").map(a=>a.trim()).filter(Boolean)}function O(e){var u,p,f,g,h,y,b,x;const a=((e==null?void 0:e.mode)??"LIGHT")==="DARK"?"dark":"light",r=((u=e==null?void 0:e.background)==null?void 0:u.default)??(a==="dark"?"#121212":"#ffffff"),t=((p=e==null?void 0:e.background)==null?void 0:p.paper)??(a==="dark"?"#1e1e1e":"#f7f7f7"),n=((f=e==null?void 0:e.text)==null?void 0:f.primary)??(a==="dark"?"#ffffff":"#111111"),o=((g=e==null?void 0:e.text)==null?void 0:g.secondary)??(a==="dark"?"#bdbdbd":"#444444"),i=((h=e==null?void 0:e.primary)==null?void 0:h.main)??"#2f6fed",s=((y=e==null?void 0:e.primary)==null?void 0:y.contrastText)??"#ffffff",k=((b=e==null?void 0:e.secondary)==null?void 0:b.main)??"#7c3aed",m=((x=e==null?void 0:e.secondary)==null?void 0:x.contrastText)??"#ffffff";return w({palette:{mode:a,background:{default:r,paper:t},text:{primary:n,secondary:o},primary:{main:i,contrastText:s},secondary:{main:k,contrastText:m}},shape:{borderRadius:12},typography:{fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"},components:{MuiPaper:{defaultProps:{elevation:0}},MuiButton:{styleOverrides:{root:{color:n,...a==="dark"?{borderColor:"rgba(255,255,255,0.25)","&:hover":{backgroundColor:"rgba(255,255,255,0.08)",borderColor:"rgba(255,255,255,0.45)"}}:{}},containedPrimary:{color:s},containedSecondary:{color:m}}},MuiButtonBase:{styleOverrides:{root:a==="dark"?{"&:hover":{backgroundColor:"rgba(255,255,255,0.06)"}}:{}}}}})}function $(e){const[a,r]=c.useState(null);c.useEffect(()=>{let n=null,o=!1;return d.onReady(async()=>{if(!o)try{const i=await d.theme.getTheme();o||r(i),n=d.theme.onChange(s=>r(s))}catch{}}),()=>{o=!0,n&&n()}},[]);const t=c.useMemo(()=>O(a),[a]);return T.jsxs(P,{theme:t,children:[T.jsx(R,{}),e.children]})}export{$ as O,W as r,I as s};
